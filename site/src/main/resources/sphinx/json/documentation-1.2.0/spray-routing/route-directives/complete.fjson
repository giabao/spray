{"body": "<div class=\"section\" id=\"complete\">\n<span id=\"id1\"></span><h1>complete</h1>\n<p>Completes the request using the given argument(s).</p>\n<div class=\"section\" id=\"signature\">\n<h2>Signature</h2>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"k\">def</span> <span class=\"n\">complete</span><span class=\"o\">[</span><span class=\"kt\">T</span> <span class=\"kt\">:ToResponseMarshaller</span><span class=\"o\">](</span><span class=\"n\">value</span><span class=\"k\">:</span> <span class=\"kt\">T</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">StandardRoute</span>\n<span class=\"k\">def</span> <span class=\"n\">complete</span><span class=\"o\">(</span><span class=\"n\">response</span><span class=\"k\">:</span> <span class=\"kt\">HttpResponse</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">StandardRoute</span>\n<span class=\"k\">def</span> <span class=\"n\">complete</span><span class=\"o\">(</span><span class=\"n\">status</span><span class=\"k\">:</span> <span class=\"kt\">StatusCode</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">StandardRoute</span>\n<span class=\"k\">def</span> <span class=\"n\">complete</span><span class=\"o\">[</span><span class=\"kt\">T</span> <span class=\"kt\">:Marshaller</span><span class=\"o\">](</span><span class=\"n\">status</span><span class=\"k\">:</span> <span class=\"kt\">StatusCode</span><span class=\"o\">,</span> <span class=\"n\">value</span><span class=\"k\">:</span> <span class=\"kt\">T</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">StandardRoute</span>\n<span class=\"k\">def</span> <span class=\"n\">complete</span><span class=\"o\">[</span><span class=\"kt\">T</span> <span class=\"kt\">:Marshaller</span><span class=\"o\">](</span><span class=\"n\">status</span><span class=\"k\">:</span> <span class=\"kt\">Int</span><span class=\"o\">,</span> <span class=\"n\">value</span><span class=\"k\">:</span> <span class=\"kt\">T</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">StandardRoute</span>\n<span class=\"k\">def</span> <span class=\"n\">complete</span><span class=\"o\">[</span><span class=\"kt\">T</span> <span class=\"kt\">:Marshaller</span><span class=\"o\">](</span><span class=\"n\">status</span><span class=\"k\">:</span> <span class=\"kt\">StatusCode</span><span class=\"o\">,</span> <span class=\"n\">headers</span><span class=\"k\">:</span> <span class=\"kt\">Seq</span><span class=\"o\">[</span><span class=\"kt\">HttpHeader</span><span class=\"o\">],</span> <span class=\"n\">value</span><span class=\"k\">:</span> <span class=\"kt\">T</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">StandardRoute</span>\n<span class=\"k\">def</span> <span class=\"n\">complete</span><span class=\"o\">[</span><span class=\"kt\">T</span> <span class=\"kt\">:Marshaller</span><span class=\"o\">](</span><span class=\"n\">status</span><span class=\"k\">:</span> <span class=\"kt\">Int</span><span class=\"o\">,</span> <span class=\"n\">headers</span><span class=\"k\">:</span> <span class=\"kt\">Seq</span><span class=\"o\">[</span><span class=\"kt\">HttpHeader</span><span class=\"o\">],</span> <span class=\"n\">value</span><span class=\"k\">:</span> <span class=\"kt\">T</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">StandardRoute</span>\n</pre></div>\n</div>\n<p>The signature shown is simplified, the real signature uses magnets. <a class=\"footnote-reference\" href=\"#id3\" id=\"id2\">[1]</a></p>\n<table class=\"docutils footnote\" frame=\"void\" id=\"id3\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id2\">[1]</a></td><td>See <a class=\"reference external\" href=\"/blog/2012-12-13-the-magnet-pattern/\">The Magnet Pattern</a> for an explanation of magnet-based overloading.</td></tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"description\">\n<h2>Description</h2>\n<p><tt class=\"docutils literal\"><span class=\"pre\">complete</span></tt> uses the given arguments to construct a <tt class=\"docutils literal\"><span class=\"pre\">Route</span></tt> which simply calls <tt class=\"docutils literal\"><span class=\"pre\">requestContext.complete</span></tt> with the\nrespective <tt class=\"docutils literal\"><span class=\"pre\">HttpResponse</span></tt> instance. Completing the request will send the response &#8220;back up&#8221; the route structure where\nall logic that wrapping directives have potentially chained into the responder chain is run (see also <a class=\"reference internal\" href=\"../../key-concepts/directives/#the-responder-chain\"><em>The Responder Chain</em></a>).\nOnce the response hits the top-level <tt class=\"docutils literal\"><span class=\"pre\">runRoute</span></tt> logic it is sent back to the underlying <a class=\"reference internal\" href=\"../../../spray-can/#spray-can\"><em>spray-can</em></a> or\n<a class=\"reference internal\" href=\"../../../spray-servlet/#spray-servlet\"><em>spray-servlet</em></a> layer which will trigger the sending of the actual HTTP response message back to the client.</p>\n</div>\n<div class=\"section\" id=\"example\">\n<h2>Example</h2>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"k\">val</span> <span class=\"n\">route</span> <span class=\"k\">=</span>\n  <span class=\"n\">path</span><span class=\"o\">(</span><span class=\"s\">&quot;a&quot;</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">complete</span><span class=\"o\">(</span><span class=\"nc\">HttpResponse</span><span class=\"o\">(</span><span class=\"n\">entity</span> <span class=\"k\">=</span> <span class=\"s\">&quot;foo&quot;</span><span class=\"o\">))</span>\n  <span class=\"o\">}</span> <span class=\"o\">~</span>\n  <span class=\"n\">path</span><span class=\"o\">(</span><span class=\"s\">&quot;b&quot;</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">complete</span><span class=\"o\">(</span><span class=\"nc\">StatusCodes</span><span class=\"o\">.</span><span class=\"nc\">Created</span><span class=\"o\">,</span> <span class=\"s\">&quot;bar&quot;</span><span class=\"o\">)</span>\n  <span class=\"o\">}</span> <span class=\"o\">~</span>\n  <span class=\"o\">(</span><span class=\"n\">path</span><span class=\"o\">(</span><span class=\"s\">&quot;c&quot;</span><span class=\"o\">)</span> <span class=\"o\">&amp;</span> <span class=\"n\">complete</span><span class=\"o\">(</span><span class=\"s\">&quot;baz&quot;</span><span class=\"o\">))</span> <span class=\"c1\">// `&amp;` also works with `complete` as the 2nd argument</span>\n\n<span class=\"nc\">Get</span><span class=\"o\">(</span><span class=\"s\">&quot;/a&quot;</span><span class=\"o\">)</span> <span class=\"o\">~&gt;</span> <span class=\"n\">route</span> <span class=\"o\">~&gt;</span> <span class=\"n\">check</span> <span class=\"o\">{</span>\n  <span class=\"n\">status</span> <span class=\"o\">===</span> <span class=\"nc\">StatusCodes</span><span class=\"o\">.</span><span class=\"nc\">OK</span>\n  <span class=\"n\">responseAs</span><span class=\"o\">[</span><span class=\"kt\">String</span><span class=\"o\">]</span> <span class=\"o\">===</span> <span class=\"s\">&quot;foo&quot;</span>\n<span class=\"o\">}</span>\n\n<span class=\"nc\">Get</span><span class=\"o\">(</span><span class=\"s\">&quot;/b&quot;</span><span class=\"o\">)</span> <span class=\"o\">~&gt;</span> <span class=\"n\">route</span> <span class=\"o\">~&gt;</span> <span class=\"n\">check</span> <span class=\"o\">{</span>\n  <span class=\"n\">status</span> <span class=\"o\">===</span> <span class=\"nc\">StatusCodes</span><span class=\"o\">.</span><span class=\"nc\">Created</span>\n  <span class=\"n\">responseAs</span><span class=\"o\">[</span><span class=\"kt\">String</span><span class=\"o\">]</span> <span class=\"o\">===</span> <span class=\"s\">&quot;bar&quot;</span>\n<span class=\"o\">}</span>\n\n<span class=\"nc\">Get</span><span class=\"o\">(</span><span class=\"s\">&quot;/c&quot;</span><span class=\"o\">)</span> <span class=\"o\">~&gt;</span> <span class=\"n\">route</span> <span class=\"o\">~&gt;</span> <span class=\"n\">check</span> <span class=\"o\">{</span>\n  <span class=\"n\">status</span> <span class=\"o\">===</span> <span class=\"nc\">StatusCodes</span><span class=\"o\">.</span><span class=\"nc\">OK</span>\n  <span class=\"n\">responseAs</span><span class=\"o\">[</span><span class=\"kt\">String</span><span class=\"o\">]</span> <span class=\"o\">===</span> <span class=\"s\">&quot;baz&quot;</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n", "display_toc": true, "title": "complete", "sourcename": "", "customsidebar": null, "current_page_name": "documentation/spray-routing/route-directives/complete", "next": {"link": "../failWith/", "title": "failWith"}, "rellinks": [["genindex", "General Index", "I", "index"], ["documentation/spray-routing/route-directives/failWith", "failWith", "N", "next"], ["documentation/spray-routing/route-directives/index", "RouteDirectives", "P", "previous"]], "meta": {}, "parents": [{"link": "../../../", "title": "Documentation"}, {"link": "../../", "title": "spray-routing"}, {"link": "../../predefined-directives-by-trait/", "title": "Predefined Directives (by trait)"}, {"link": "../", "title": "RouteDirectives"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">complete</a><ul>\n<li><a class=\"reference internal\" href=\"#signature\">Signature</a></li>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#example\">Example</a></li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../", "title": "RouteDirectives"}, "metatags": ""}