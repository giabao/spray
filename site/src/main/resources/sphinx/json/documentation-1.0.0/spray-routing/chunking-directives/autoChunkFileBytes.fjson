{"body": "<div class=\"section\" id=\"autochunkfilebytes\">\n<span id=\"id1\"></span><h1>autoChunkFileBytes</h1>\n<p>Converts unchunked responses coming back from its inner route into chunked responses of which each chunk\nis smaller or equal to the given size if the response entity is at least as large as the given threshold and contains\nonly <tt class=\"docutils literal\"><span class=\"pre\">HttpData.FileBytes</span></tt>.</p>\n<div class=\"section\" id=\"signature\">\n<h2>Signature</h2>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"k\">def</span> <span class=\"n\">autoChunkFileBytes</span><span class=\"o\">(</span><span class=\"n\">maxChunkSize</span><span class=\"k\">:</span> <span class=\"kt\">Long</span><span class=\"o\">)(</span><span class=\"k\">implicit</span> <span class=\"n\">factory</span><span class=\"k\">:</span> <span class=\"kt\">ActorRefFactory</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">Directive0</span>\n<span class=\"k\">def</span> <span class=\"n\">autoChunkFileBytes</span><span class=\"o\">(</span><span class=\"n\">threshold</span><span class=\"k\">:</span> <span class=\"kt\">Long</span><span class=\"o\">,</span> <span class=\"n\">maxChunkSize</span><span class=\"k\">:</span> <span class=\"kt\">Long</span><span class=\"o\">)(</span><span class=\"k\">implicit</span> <span class=\"n\">factory</span><span class=\"k\">:</span> <span class=\"kt\">ActorRefFactory</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">Directive0</span>\n<span class=\"k\">def</span> <span class=\"n\">autoChunkFileBytes</span><span class=\"o\">(</span><span class=\"n\">magnet</span><span class=\"k\">:</span> <span class=\"kt\">ChunkSizeMagnet</span><span class=\"o\">)</span><span class=\"k\">:</span> <span class=\"kt\">Directive0</span>\n</pre></div>\n</div>\n<p>The signature shown is simplified, the real signature uses magnets. <a class=\"footnote-reference\" href=\"#id3\" id=\"id2\">[1]</a></p>\n<table class=\"docutils footnote\" frame=\"void\" id=\"id3\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id2\">[1]</a></td><td>See <a class=\"reference external\" href=\"/blog/2012-12-13-the-magnet-pattern/\">The Magnet Pattern</a> for an explanation of magnet-based overloading.</td></tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"description\">\n<h2>Description</h2>\n<p>See <a class=\"reference internal\" href=\"../autoChunk/#autochunk\"><em>autoChunk</em></a> for a more detailed description of the parameters as this directive is basically the same\nwith the added restriction to chunk only entities completely backed by files.</p>\n</div>\n<div class=\"section\" id=\"example\">\n<h2>Example</h2>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"k\">val</span> <span class=\"n\">route</span> <span class=\"k\">=</span>\n  <span class=\"n\">autoChunkFileBytes</span><span class=\"o\">(</span><span class=\"mi\">5</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">path</span><span class=\"o\">(</span><span class=\"s\">&quot;long&quot;</span><span class=\"o\">)(</span><span class=\"n\">complete</span><span class=\"o\">(</span><span class=\"s\">&quot;This is a long text&quot;</span><span class=\"o\">))</span>\n  <span class=\"o\">}</span>\n\n<span class=\"nc\">Get</span><span class=\"o\">(</span><span class=\"s\">&quot;/long&quot;</span><span class=\"o\">)</span> <span class=\"o\">~&gt;</span> <span class=\"n\">route</span> <span class=\"o\">~&gt;</span> <span class=\"n\">check</span> <span class=\"o\">{</span>\n  <span class=\"c1\">// don&#39;t chunk long request because it&#39;s not from a file</span>\n  <span class=\"n\">responseAs</span><span class=\"o\">[</span><span class=\"kt\">String</span><span class=\"o\">]</span> <span class=\"o\">===</span> <span class=\"s\">&quot;This is a long text&quot;</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n", "display_toc": true, "title": "autoChunkFileBytes", "sourcename": "", "customsidebar": null, "current_page_name": "documentation/spray-routing/chunking-directives/autoChunkFileBytes", "next": {"link": "../../cookie-directives/", "title": "CookieDirectives"}, "rellinks": [["genindex", "General Index", "I", "index"], ["documentation/spray-routing/cookie-directives/index", "CookieDirectives", "N", "next"], ["documentation/spray-routing/chunking-directives/autoChunk", "autoChunk", "P", "previous"]], "meta": {}, "parents": [{"link": "../../../", "title": "Documentation"}, {"link": "../../", "title": "spray-routing"}, {"link": "../../predefined-directives-by-trait/", "title": "Predefined Directives (by trait)"}, {"link": "../", "title": "ChunkingDirectives"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">autoChunkFileBytes</a><ul>\n<li><a class=\"reference internal\" href=\"#signature\">Signature</a></li>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#example\">Example</a></li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../autoChunk/", "title": "autoChunk"}, "metatags": ""}